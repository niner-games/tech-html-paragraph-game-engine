<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Settings</title>

    <script src="js/autoloader.js"></script>
</head>
<body>

    <div id="background">

        <div text="Customize the game to your needs."></div>

        <div id="language-overlay" class="overlay"></div>
        <div id="theme-overlay" class="overlay"></div>
        <div id="transformation-overlay" class="overlay"></div>

    </div>

    <script>
        window.addEventListener("load", function() {
            let i = 2;
            let style = "ltr";
            let styleOverlay = document.getElementById('theme-overlay');
            let languageOverlay = document.getElementById('language-overlay');
            let transformationOverlay = document.getElementById('transformation-overlay');
            let colors = ['btn-primary', 'btn-secondary', 'btn-success', 'btn-danger', 'btn-warning', 'btn-info', 'btn-light', 'btn-dark'];

            for (let key in AutoLoader.languages) {
                if (AutoLoader.languages.hasOwnProperty(key)) {
                    let button = document.createElement("button");

                    style = (key === "iw") ? "rtl" : style;

                    button.value = key;
                    button.style.direction = style;
                    button.textContent = AutoLoader.languages[key];

                    button.classList.add('btn');
                    button.classList.add(colors[i % colors.length]);

                    button.addEventListener('click', () => {TranslationEngine.setLanguage(key)});

                    languageOverlay.appendChild(button);

                    i++;
                }
            }

            i = 0;

            for (let key in AutoLoader.themes) {
                if (AutoLoader.themes.hasOwnProperty(key)) {
                    let button = document.createElement("button");

                    button.value = key;
                    button.textContent = AutoLoader.themes[key];

                    button.classList.add('btn');
                    button.classList.add(colors[i % colors.length]);

                    button.addEventListener('click', () => {ThemeEngine.setTheme(key)});

                    styleOverlay.appendChild(button);

                    i++;
                }
            }

            for (let key in AutoLoader.transformations) {
                if (AutoLoader.transformations.hasOwnProperty(key)) {
                    let button = document.createElement("button");

                    button.value = key;
                    button.textContent = AutoLoader.transformations[key];

                    button.classList.add('btn');
                    button.classList.add(key);

                    button.addEventListener('click', () => {ThemeEngine.setTransformation(key)});

                    transformationOverlay.appendChild(button);
                }
            }
        });
    </script>

</body>
</html>